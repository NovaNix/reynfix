(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function x(){}function ye(e){return e()}function ue(){return Object.create(null)}function B(e){e.forEach(ye)}function ke(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let P;function xe(e,t){return P||(P=document.createElement("a")),P.href=t,e===P.href}function ze(e){return Object.keys(e).length===0}function Ee(e,...t){if(e==null)return x;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function O(e,t,n){e.$$.on_destroy.push(Ee(t,n))}function te(e,t,n){return e.set(n),t}function d(e,t){e.appendChild(t)}function F(e,t,n){e.insertBefore(t,n||null)}function q(e){e.parentNode&&e.parentNode.removeChild(e)}function re(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function E(e){return document.createTextNode(e)}function w(){return E(" ")}function D(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function we(e){return Array.from(e.childNodes)}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function fe(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t){l.selected=!0;return}}e.selectedIndex=-1}function qe(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}let ce;function R(e){ce=e}const M=[],ae=[],W=[],de=[],Ce=Promise.resolve();let oe=!1;function Le(){oe||(oe=!0,Ce.then($e))}function G(e){W.push(e)}const ne=new Set;let U=0;function $e(){const e=ce;do{for(;U<M.length;){const t=M[U];U++,R(t),Fe(t.$$)}for(R(null),M.length=0,U=0;ae.length;)ae.pop()();for(let t=0;t<W.length;t+=1){const n=W[t];ne.has(n)||(ne.add(n),n())}W.length=0}while(M.length);for(;de.length;)de.pop()();oe=!1,ne.clear(),R(e)}function Fe(e){if(e.fragment!==null){e.update(),B(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}const X=new Set;let Se;function H(e,t){e&&e.i&&(X.delete(e),e.i(t))}function le(e,t,n,l){if(e&&e.o){if(X.has(e))return;X.add(e),Se.c.push(()=>{X.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function se(e){e&&e.c()}function K(e,t,n,l){const{fragment:s,after_update:r}=e.$$;s&&s.m(t,n),l||G(()=>{const f=e.$$.on_mount.map(ye).filter(ke);e.$$.on_destroy?e.$$.on_destroy.push(...f):B(f),e.$$.on_mount=[]}),r.forEach(G)}function V(e,t){const n=e.$$;n.fragment!==null&&(B(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Oe(e,t){e.$$.dirty[0]===-1&&(M.push(e),Le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,l,s,r,f,i=[-1]){const o=ce;R(e);const c=e.$$={fragment:null,ctx:[],props:r,update:x,not_equal:s,bound:ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(o?o.$$.context:[])),callbacks:ue(),dirty:i,skip_bound:!1,root:t.target||o.$$.root};f&&f(c.root);let y=!1;if(c.ctx=n?n(e,t.props||{},(k,a,..._)=>{const p=_.length?_[0]:a;return c.ctx&&s(c.ctx[k],c.ctx[k]=p)&&(!c.skip_bound&&c.bound[k]&&c.bound[k](p),y&&Oe(e,k)),a}):[],c.update(),y=!0,B(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const k=we(t.target);c.fragment&&c.fragment.l(k),k.forEach(q)}else c.fragment&&c.fragment.c();t.intro&&H(e.$$.fragment),K(e,t.target,t.anchor,t.customElement),$e()}R(o)}class Z{$destroy(){V(this,1),this.$destroy=x}$on(t,n){if(!ke(n))return x;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(t){this.$$set&&!ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const T=[];function ee(e,t=x){let n;const l=new Set;function s(i){if(I(e,i)&&(e=i,n)){const o=!T.length;for(const c of l)c[1](),T.push(c,e);if(o){for(let c=0;c<T.length;c+=2)T[c][0](T[c+1]);T.length=0}}}function r(i){s(i(e))}function f(i,o=x){const c=[i,o];return l.add(c),l.size===1&&(n=t(s)||x),i(e),()=>{l.delete(c),l.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:f}}function Ae(e){let t,n,l,s,r,f;return{c(){t=v("section"),n=v("label"),n.textContent="Upload a DAE file:",l=w(),s=v("input"),h(n,"for","avatar"),h(n,"class","svelte-mtrsjx"),h(s,"accept",".dae"),h(s,"id","collada-selector"),h(s,"name","collada"),h(s,"type","file"),h(t,"class","panel svelte-mtrsjx")},m(i,o){F(i,t,o),d(t,n),d(t,l),d(t,s),r||(f=D(s,"change",e[1]),r=!0)},p:x,i:x,o:x,d(i){i&&q(t),r=!1,f()}}}function Te(e,t,n){let l;O(e,J,r=>n(0,l=r));function s(){l=this.files,J.set(l)}return[l,s]}class Ne extends Z{constructor(t){super(),Y(this,t,Te,Ae,I,{})}}function _e(e,t,n){const l=e.slice();return l[9]=t[n],l}function pe(e,t,n){const l=e.slice();return l[12]=t[n],l}function Me(e){let t,n;return{c(){t=v("h1"),n=E(e[1]),h(t,"class","svelte-1s4zpq7")},m(l,s){F(l,t,s),d(t,n)},p(l,s){s&2&&A(n,l[1])},d(l){l&&q(t)}}}function Re(e){let t,n;return{c(){t=v("h1"),n=E(e[2]),h(t,"class","svelte-1s4zpq7")},m(l,s){F(l,t,s),d(t,n)},p(l,s){s&4&&A(n,l[2])},d(l){l&&q(t)}}}function je(e){let t;return{c(){t=v("h1"),t.textContent="Please Select a File",h(t,"class","svelte-1s4zpq7")},m(n,l){F(n,t,l)},p:x,d(n){n&&q(t)}}}function he(e){let t,n,l,s=e[0].length+"",r,f,i,o,c,y,k,a=e[3].length+"",_,p,C,S,z=e[0],b=[];for(let u=0;u<z.length;u+=1)b[u]=ge(pe(e,z,u));let m=e[3],$=[];for(let u=0;u<m.length;u+=1)$[u]=me(_e(e,m,u));return{c(){t=v("section"),n=v("figure"),l=v("figcaption"),r=E(s),f=E(" Broken Textures"),i=w(),o=v("output");for(let u=0;u<b.length;u+=1)b[u].c();c=w(),y=v("figure"),k=v("figcaption"),_=E(a),p=E(" Semantics"),C=w(),S=v("output");for(let u=0;u<$.length;u+=1)$[u].c();h(l,"class","svelte-1s4zpq7"),h(o,"class","svelte-1s4zpq7"),h(n,"class","svelte-1s4zpq7"),h(k,"class","svelte-1s4zpq7"),h(S,"class","svelte-1s4zpq7"),h(y,"class","svelte-1s4zpq7"),h(t,"class","svelte-1s4zpq7")},m(u,L){F(u,t,L),d(t,n),d(n,l),d(l,r),d(l,f),d(n,i),d(n,o);for(let g=0;g<b.length;g+=1)b[g].m(o,null);d(t,c),d(t,y),d(y,k),d(k,_),d(k,p),d(y,C),d(y,S);for(let g=0;g<$.length;g+=1)$[g].m(S,null)},p(u,L){if(L&1&&s!==(s=u[0].length+"")&&A(r,s),L&1){z=u[0];let g;for(g=0;g<z.length;g+=1){const N=pe(u,z,g);b[g]?b[g].p(N,L):(b[g]=ge(N),b[g].c(),b[g].m(o,null))}for(;g<b.length;g+=1)b[g].d(1);b.length=z.length}if(L&8&&a!==(a=u[3].length+"")&&A(_,a),L&8){m=u[3];let g;for(g=0;g<m.length;g+=1){const N=_e(u,m,g);$[g]?$[g].p(N,L):($[g]=me(N),$[g].c(),$[g].m(S,null))}for(;g<$.length;g+=1)$[g].d(1);$.length=m.length}},d(u){u&&q(t),re(b,u),re($,u)}}}function ge(e){let t,n=e[12]+"",l;return{c(){t=v("span"),l=E(n),h(t,"class","svelte-1s4zpq7")},m(s,r){F(s,t,r),d(t,l)},p(s,r){r&1&&n!==(n=s[12]+"")&&A(l,n)},d(s){s&&q(t)}}}function me(e){let t,n=e[9]+"",l;return{c(){t=v("span"),l=E(n),h(t,"class","svelte-1s4zpq7")},m(s,r){F(s,t,r),d(t,l)},p(s,r){r&8&&n!==(n=s[9]+"")&&A(l,n)},d(s){s&&q(t)}}}function Be(e){let t,n,l;function s(o,c){return o[1]=="Waiting"?je:o[1]=="Completed"?Re:Me}let r=s(e),f=r(e),i=e[1]=="Completed"&&he(e);return{c(){t=v("article"),n=v("header"),f.c(),l=w(),i&&i.c(),h(t,"class","panel svelte-1s4zpq7")},m(o,c){F(o,t,c),d(t,n),f.m(n,null),d(t,l),i&&i.m(t,null)},p(o,[c]){r===(r=s(o))&&f?f.p(o,c):(f.d(1),f=r(o),f&&(f.c(),f.m(n,null))),o[1]=="Completed"?i?i.p(o,c):(i=he(o),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i:x,o:x,d(o){o&&q(t),f.d(),i&&i.d()}}}function Ie(e,t,n){let l,s,r;O(e,Q,a=>n(3,l=a)),O(e,ie,a=>n(4,s=a)),O(e,j,a=>n(5,r=a));const f=new DOMParser;let i=[],o="Waiting",c="";async function y(a){n(1,o="Parsing..."),n(2,c=a.name);let _=await a.text();te(j,r=f.parseFromString(_,"text/xml"),r)}async function k(a){n(1,o="Finding Broken Textures..."),n(0,i=[]);for(let p of a.getElementsByTagName("texture"))p.getAttribute("texcoord")==null&&i.push(p.outerHTML);te(ie,s=i.length,s),n(1,o="Finding Semantics...");let _=[];for(let p of a.getElementsByTagName("input")){let C=p.getAttribute("semantic");_.includes(C)||_.push(C)}te(Q,l=_,l),n(1,o="Completed")}return J.subscribe(a=>{a!=null?y(a[0]):n(1,o="Waiting")}),j.subscribe(a=>{a!=null&&k(a)}),[i,o,c,l]}class Pe extends Z{constructor(t){super(),Y(this,t,Ie,Be,I,{})}}function be(e,t,n){const l=e.slice();return l[10]=t[n],l}function ve(e){let t,n=e[10]+"",l,s;return{c(){t=v("option"),l=E(n),t.__value=s=e[10],t.value=t.__value},m(r,f){F(r,t,f),d(t,l)},p(r,f){f&4&&n!==(n=r[10]+"")&&A(l,n),f&4&&s!==(s=r[10])&&(t.__value=s,t.value=t.__value)},d(r){r&&q(t)}}}function Ue(e){let t,n,l,s,r,f,i,o,c,y,k,a,_,p,C,S,z=e[2],b=[];for(let m=0;m<z.length;m+=1)b[m]=ve(be(e,z,m));return{c(){t=v("section"),n=v("div"),l=v("label"),l.textContent="UV Map Semantic:",s=w(),r=v("select");for(let m=0;m<b.length;m+=1)b[m].c();f=w(),i=v("aside"),o=v("button"),c=E("Fix Model"),k=w(),a=v("button"),_=E("Export"),h(l,"for","semantic-selector"),h(l,"class","svelte-1kdo29e"),h(r,"name","semantic-selector"),h(r,"id","semantic-selector"),h(r,"class","svelte-1kdo29e"),e[0]===void 0&&G(()=>e[6].call(r)),o.disabled=y=e[3]==0||e[1]==null||e[2].length==0||e[0]=="",h(o,"class","svelte-1kdo29e"),a.disabled=p=e[3]>0||e[1]==null,h(a,"class","svelte-1kdo29e"),h(i,"class","svelte-1kdo29e"),h(t,"class","panel svelte-1kdo29e")},m(m,$){F(m,t,$),d(t,n),d(n,l),d(n,s),d(n,r);for(let u=0;u<b.length;u+=1)b[u].m(r,null);fe(r,e[0]),d(t,f),d(t,i),d(i,o),d(o,c),d(i,k),d(i,a),d(a,_),C||(S=[D(r,"change",e[6]),D(o,"click",e[4]),D(a,"click",e[5])],C=!0)},p(m,[$]){if($&4){z=m[2];let u;for(u=0;u<z.length;u+=1){const L=be(m,z,u);b[u]?b[u].p(L,$):(b[u]=ve(L),b[u].c(),b[u].m(r,null))}for(;u<b.length;u+=1)b[u].d(1);b.length=z.length}$&5&&fe(r,m[0]),$&15&&y!==(y=m[3]==0||m[1]==null||m[2].length==0||m[0]=="")&&(o.disabled=y),$&10&&p!==(p=m[3]>0||m[1]==null)&&(a.disabled=p)},i:x,o:x,d(m){m&&q(t),re(b,m),C=!1,B(S)}}}function De(e,t,n){let l,s,r,f;O(e,J,_=>n(7,l=_)),O(e,j,_=>n(1,s=_)),O(e,Q,_=>n(2,r=_)),O(e,ie,_=>n(3,f=_));const i=new XMLSerializer;let o;Q.subscribe(_=>{if(_.length==0){n(0,o=null);return}o==null&&_.includes("TEXCOORD")&&n(0,o="TEXCOORD")});function c(){for(let _ of s.getElementsByTagName("texture"))_.getAttribute("texcoord")==null&&_.setAttribute("texcoord",o);j.set(s)}function y(){let _=i.serializeToString(s),p=new Blob([_],{type:"text/plain;charset=utf-8"});k(p)}function k(_){const p=document.createElement("a");p.href=URL.createObjectURL(_),p.download=`${l[0].name}`,p.click(),URL.revokeObjectURL(p.href)}function a(){o=qe(this),n(0,o)}return[o,s,r,f,c,y,a]}class We extends Z{constructor(t){super(),Y(this,t,De,Ue,I,{})}}const Xe="/reynfix/assets/Reyn_Fix_Official_Logo.f33b8c9d.png";function He(e){let t,n,l,s,r,f,i,o,c,y,k,a,_;return o=new Ne({}),y=new Pe({}),a=new We({}),{c(){t=v("main"),n=v("header"),l=v("img"),r=w(),f=v("h1"),f.textContent="Reyn Fix",i=w(),se(o.$$.fragment),c=w(),se(y.$$.fragment),k=w(),se(a.$$.fragment),xe(l.src,s=Xe)||h(l,"src",s),h(l,"class","svelte-1s2kvxx"),h(f,"class","svelte-1s2kvxx"),h(n,"class","svelte-1s2kvxx"),h(t,"class","svelte-1s2kvxx")},m(p,C){F(p,t,C),d(t,n),d(n,l),d(n,r),d(n,f),d(t,i),K(o,t,null),d(t,c),K(y,t,null),d(t,k),K(a,t,null),_=!0},p:x,i(p){_||(H(o.$$.fragment,p),H(y.$$.fragment,p),H(a.$$.fragment,p),_=!0)},o(p){le(o.$$.fragment,p),le(y.$$.fragment,p),le(a.$$.fragment,p),_=!1},d(p){p&&q(t),V(o),V(y),V(a)}}}let J=ee(),j=ee(),Q=ee([]),ie=ee(0);class Ke extends Z{constructor(t){super(),Y(this,t,null,He,I,{})}}new Ke({target:document.getElementById("app")});
